{
  "info": {
    "_postman_id": "auth-microservice-collection",
    "name": "Auth Microservice API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Postman collection for testing the Enterprise-Grade Auth Microservice"
  },
  "item": [
    {
      "name": "Auth",
      "description": "Authentication routes",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"confirmPassword\": \"SecurePass123!\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/logout",
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/refresh",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            }
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/v1/auth/verify-email/{{verificationToken}}"
          }
        },
        {
          "name": "Resend Verification Email",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/resend-verification",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\"\n}"
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/v1/auth/change-password",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"SecurePass123!\",\n  \"newPassword\": \"NewSecurePass123$\",\n  \"confirmNewPassword\": \"NewSecurePass123$\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/auth/me",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        }
      ]
    },
    {
      "name": "OAuth",
      "description": "OAuth routes",
      "item": [
        {
          "name": "Google OAuth Login",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/oauth/google"
          }
        },
        {
          "name": "Facebook OAuth Login",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/oauth/facebook"
          }
        },
        {
          "name": "GitHub OAuth Login",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/oauth/github"
          }
        },
        {
          "name": "Get Linked OAuth Providers",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/oauth/providers",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Unlink OAuth Provider",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/v1/oauth/google",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "description": "User management routes",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/users/profile",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/v1/users/profile",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phoneNumber\": \"1234567890\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Update User Preferences",
          "request": {
            "method": "PUT",
            "url": "{{baseUrl}}/api/v1/users/preferences",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"language\": \"en\",\n  \"timezone\": \"UTC\",\n  \"notifications\": {\"email\": true, \"push\": true}\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Delete User Account",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/api/v1/users/profile",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{accessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/users?page=1&limit=10",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{adminAccessToken}}", "type": "string" }]
            }
          }
        }
      ]
    },
    {
      "name": "Roles",
      "description": "Role and permission management",
      "item": [
        {
          "name": "Initialize Default Roles",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/v1/roles/initialize",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{superadminAccessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "Create Role",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/v1/roles",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"manager\",\n  \"displayName\": \"Manager\",\n  \"description\": \"Manager role with custom permissions\",\n  \"permissions\": [{\"resource\": \"users\", \"actions\": [\"read\", \"update\"]}],\n  \"level\": 7\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{superadminAccessToken}}", "type": "string" }]
            }
          }
        },
        {
          "name": "List Roles",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/roles",
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{adminAccessToken}}", "type": "string" }]
            }
          }
        }
      ]
    },
    {
      "name": "Password",
      "description": "Password reset and verification",
      "item": [
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/v1/password/forgot",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\"\n}"
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/v1/password/reset/{{resetToken}}",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newPassword\": \"NewPassword123$\",\n  \"confirmPassword\": \"NewPassword123$\"\n}"
            }
          }
        },
        {
          "name": "Verify Reset Token",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/api/v1/password/verify/{{resetToken}}"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000"
    },
    {
      "key": "accessToken",
      "value": ""
    },
    {
      "key": "refreshToken",
      "value": ""
    },
    {
      "key": "verificationToken",
      "value": ""
    },
    {
      "key": "resetToken",
      "value": ""
    },
    {
      "key": "adminAccessToken",
      "value": ""
    },
    {
      "key": "superadminAccessToken",
      "value": ""
    }
  ]
}
